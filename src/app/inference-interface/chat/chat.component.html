<!-- Pruning Checkbox Above Chat Window -->
<div class="pruning-container">
  <input type="checkbox" #contextPruning id="contextPruning" />
  <label for="contextPruning">Pruning</label>
</div>
<div class="chat-container">
  <!-- Chat History -->
  <div class="chat-history">
    <div *ngFor="let message of chatHistory" [ngClass]="{'user-message': message.sender === 'User', 'bot-message': message.sender === 'Bot'}" class="message-container">
      <span class="message-sender">{{ message.sender }}:</span>

      <pre class="message-text">{{ message.text }}</pre> <!-- Preserve formatting -->

      <!-- Glyph Container (conditionally rendered if glyph exists) -->
      <div *ngIf="message.glyph"
           class="message-glyph"
           [ngClass]="{'minimized': !message.showGlyph}"
           (click)="toggleGlyphVisibility(message)">
      <!-- Show SVG only if NOT minimized -->
        <ng-container *ngIf="message.showGlyph">
          <div [innerHTML]="sanitizeSvg(message.glyph)"></div>
        </ng-container>
      <ng-container *ngIf="!message.showGlyph">
        <div>V</div>
      </ng-container>

      </div>
    </div>
  </div>

  <!-- Chat Input -->
  <div class="chat-input">
    <input [(ngModel)]="userInput" (keyup.enter)="sendMessage()" placeholder="Type your message..." />
    <button (click)="sendMessage()">Send</button>
  </div>
</div>
